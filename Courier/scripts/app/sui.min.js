"use strict";var SUI,sui;(function(n){function i(n){return angular.isUndefined(n)?!0:n===null?!0:n==={}?!0:n===[]?!0:String(n).trim().length===0?!0:!1}function r(n,t){return i(n)?t:n}function t(n,t){return angular.lowercase(r(n,t)).trim()}var u,f,e;n.IsBlank=i;n.IfBlank=r;n.Option=t,function(n){var t=function(){function n(n,t){var i=this;this.$scope=n;this.$log=t;this._procedures={};this.addProcedure=function(n,t){i._procedures[n]=t};this.removeProcedure=function(n){angular.isDefined(i._procedures[n])&&delete i._procedures[n]};this.execute=function(n){i.$log.debug(angular.toJson(i._procedures[n]()))}}return n.$inject=["$scope","$log"],n}();n.Controller=t}(u=n.Main||(n.Main={})),function(n){var i=function(){function n(n,i){var r=this;this.$scope=n;this.$log=i;this._parameters=[];this.addParameter=function(n){r._parameters.push(n)};this.removeParameter=function(n){var t=r._parameters.indexOf(n);t>=0&&r._parameters.splice(t,1)};this.factory=this.$scope.factory=function(){var n={name:r.$scope.name,parameters:[],type:t(r.$scope.run,"manual")};return["manual","auto","once"].indexOf(n.type)<0&&(n.type="manual"),angular.forEach(r._parameters,function(t){n.parameters.push(t())}),n};this.execute=function(){r.$log.debug(angular.toJson(r.$scope.factory()))};this.autoexec=function(){}}return n.$inject=["$scope","$log"],n}();n.Controller=i}(f=n.Procedure||(n.Procedure={})),function(n){var r=function(){function n(n,r,u){var f=this;this.$scope=n;this.$routeParams=r;this.$parse=u;this.factory=this.$scope.factory=function(){var u=t(f.$scope.type,i(f.$scope.value)?"route":"value"),e=t(f.$scope.format,""),n,r=!1;switch(u){case"route":n=f.$routeParams[f.$scope.value||f.$scope.name];break;case"scope":n=f.$parse(f.$scope.value)(f.$scope.$parent);break;default:n=f.$scope.value}if(i(n))n=null;else switch(e){case"date":switch(t(n,"")){case"today":n=moment().format("YYYY-MM-DD");break;case"tomorrow":n=moment().add(1,"days").format("YYYY-MM-DD");break;case"yesterday":n=moment().subtract(1,"days").format("YYYY-MM-DD");break;default:n=moment(n).format("YYYY-MM-DD");angular.lowercase(n).indexOf("invalid")>=0&&(n=null)}break;case"number":n=Number(n);break;case"xml":n=angular.toJson(n,!1);r=!0;break;default:angular.isObject(n)&&(n=angular.toJson(n,!1),r=!0)}return{name:f.$scope.name,value:n,xml:r,required:t(f.$scope.required,"false")==="true"}}}return n.$inject=["$scope","$routeParams","$parse"],n}();n.Controller=r}(e=n.Parameter||(n.Parameter={}))})(SUI||(SUI={}));sui=angular.module("SUI",["ngRoute"]);sui.directive("suiProc",function(){return{restrict:"E",template:"{{factory()}}<ng-transclude><\/ng-transclude>",transclude:!0,scope:{name:"@",type:"@",run:"@"},controller:SUI.Procedure.Controller,require:["suiProc"],link:function(n,t,i,r){r[0].execute()}}});sui.directive("suiProcParam",function(){return{restrict:"E",template:"{{factory()}}",scope:{name:"@",type:"@",value:"@",format:"@",required:"@"},controller:SUI.Parameter.Controller,require:"^^suiProc",link:function(n,t,i,r){r.addParameter(n.factory);n.$on("$destroy",function(t,i){t!==i&&r.removeParameter(n.factory)})}}});
//# sourceMappingURL=sui.min.js.map
